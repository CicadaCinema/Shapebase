pico-8 cartridge // http://www.pico-8.com
version 21
__lua__

function _init()
 cls()

	grid = {}

	-- create empty 16x16 grid
	for i=1,16 do
		grid[#grid+1] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
 end



	x = 64
	y = 64
	sprite = 1
	mode = 0
	col = 0
	sel_spr = 1
	draw = {}
	drawnum = 0
	drawlen = 0
end

function _update()
	if mode == 0 then
		if (btnp(0) and x > 0) x -= 8
		if (btnp(1) and x < 120) x += 8
		if (btnp(2) and y > 0) y -= 8
		if (btnp(3) and y < 120) y += 8
		if (btnp(4)) mode = 1
		if (btnp(5)) sel_spr = sprite
		if (btnp(5)) draw[drawnum] = sel_spr
		if (btnp(5)) drawnum += 1
		if (btnp(5)) draw[drawnum] = x
		if (btnp(5)) drawnum += 1
		if (btnp(5)) draw[drawnum] = y
		if (btnp(5)) drawnum += 1
		if (btnp(5)) drawlen += 3
	elseif mode == 1 then
		if (btnp(1)) sprite += 1
		if (btnp(0)) sprite -= 1
		if (btnp(4)) mode = 2
		if (btnp(5)) mode = 0
	elseif mode == 2 then
		if (btnp(2)) col += 1
		if (btnp(3)) col -= 1
		if (btnp(4)) mode = 3
		if (btnp(5)) mode = 1
	elseif mode == 3 then
		if (btnp(0) and x > 0) x -= 8
		if (btnp(1) and x < 120) x += 8
		if (btnp(2) and y > 0) y -= 8
		if (btnp(3) and y < 120) y += 8
		if (btnp(4)) then
			if y == start_ranx and x == start_rany then
				sprite = 192
			elseif y == start_ranx and x == islandy then
			 sprite = 193
			elseif y == islandx and x == islandy then
			 sprite = 194
			elseif y == islandx and x == start_rany then
			 sprite = 195
			elseif y == start_ranx then
			 sprite = 201
			elseif x == islandy then
			 sprite = 202
			elseif y == islandx then
			 sprite = 203
			elseif x == start_rany then
			 sprite = 204
		if (btnp(4)) sel_spr = sprite
		if (btnp(4)) draw[drawnum] = sel_spr
		if (btnp(4)) drawnum += 1
		if (btnp(4)) draw[drawnum] = x
		if (btnp(4)) drawnum += 1
		if (btnp(4)) draw[drawnum] = y
		if (btnp(4)) drawnum += 1
		if (btnp(4)) drawlen += 3
		end
	 end
		if (btnp(5)) mode = 2
	elseif mode == 4 then
		if (btnp(2)) spr(0, x, y)
		if (btnp(4)) mode = 5
	elseif mode == 5 then
	 if (btnp(2)) mode = mode
	 if (btnp(4)) mode = 0
end
end

islandx = flr(rnd(4))
islandx += 10
islandy = islandx + flr(rnd(3))
start_ranx = flr(rnd(3)) +1
start_rany = flr(rnd(3)) +1

i = 0
j = 0


function _draw()
 --loop through the cells
	for y=1,16 do
		for x=1,16 do
			-- fetch the sprite id from the grid array and draw it
			-- ensure the first sprite is drawn at (0,0)
			spr(grid[y][x], 7*(x-1), 7*(y-1))
		end
	end

	--for i=0,16 do
	--	for j=0,16 do
	--		spr(213, i*8, j*8)
	--	end
	--end
	--i=0
	--j=0
	--for i=start_rany,islandy do
	--	for j=start_ranx,islandx do
	--		if j == start_ranx and i == start_rany then
	--			spr(192, i*8, j*8)
	--		elseif j == start_ranx and i == islandy then
	--		 spr(193, i*8, j*8)
	--		elseif j == islandx and i == islandy then
	--		 spr(194, i*8, j*8)
	--		elseif j == islandx and i == start_rany then
	--			spr(195, i*8, j*8)
	--		elseif j == start_ranx then
	--			spr(201, i*8, j*8)
	--		elseif i == islandy then
	--			spr(202, i*8, j*8)
	--		elseif j == islandx then
	--			spr(203, i*8, j*8)
	--		elseif i == start_rany then
	--			spr(204, i*8, j*8)
	--		elseif i>start_rany then
	--			spr(200, i*8, j*8)
	--	end
	--
	--for i=0,(drawlen) do
	--	spr(draw[3*i],draw[3*i+1],draw[3*i+2])
	--end
	--
	--spr(0, x, y)
	--spr(0, x-8, y)
	--spr(sprite, x, y)
	--spr(128+mode, x-8, y)
 --end
 --end



end

__gfx__
44444a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000033333333111111110000000000000000
4444a900000000000000088000088000000000000000000000000000000000000000000000000000088000000880000033333333111111110000000000000000
444a9900000000000000088000088000000000000008800008800880000000000008800008800880088880000888800033333333111111110000000880000000
44a99900000880000000000000000000000000000008800008800880000000000008800008800880088888800800888033333333111111110000000880000000
4a999900000880000000000000000000000000000000000000000000000000000000000000000000088888800800888033333333111111110000000000000000
a9999900000000000880000008800880088888800888888008888880088888800888888008888880088880000888800033333333111111110888888888888880
00000000000000000880000008800880088888800888888008888880008888000088880000888800088000000880000033333333111111110088888888888800
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000033333333111111110000000000000000
00000000000000000000000000000000888888880008800000000000000000008888888800000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000888888880088880000800800000000008888888800088000000000000000000000000000000000000000000000000000
00000000000000000000000000000000888888880808808008888880000000008888888800888800000000000000000000000000000000000000000000000000
00000000000000000000000000000000888888888800008800888800000880008880088808800880000000000000000000000000000000000000000000000000
00000000000000000000000000000000888888888800008800888800008888008880088808800880000000000000000000000000000000000000000000000000
08888888888888800888888888888880888888880808808008888880008888008888888800888800000000000000000000000000000000000000000000000000
00888888888888000088888888888800888888880088880000800800000000008888888800088000000000000000000000000000000000000000000000000000
00000000000000000000000000000000888888880008800000000000000000008888888800000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4444a900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
444a9900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44a99900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4a999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
a9999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000007070700777777007000070007777000777777000000000000000000000000000000000000000000000000000000000000000000000000000000000
00777700070707000777777000700700000770000700007000000000000000000000000000000000000000000000000000000000000000000000000000000000
07777770007070700770000000077000000770000707707000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000070707000770000000077000000770000707707000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000007070700777777000700700077777700700007000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000070707000777777007000070077777700777777000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1111111111111111333333b11b33333311111111111111111b3333b1111111113333333311111111333333b1333333331b333333111111111b3333b11b333333
1bbbbbbbbbbbbbb1333333b11b3333331bbbbbb11bbbbbbb1b3333b1bbbbbbb133333333bbbbbbbb333333b1333333331b3333331bbbbbb1bb3333bbbb333333
1b333333333333b1333333b11b3333331b3333b11b3333331b3333b1333333b13333333333333333333333b1333333331b3333331b3333b13333333333333333
1b333333333333b1333333b11b3333331b3333b11b3333331b3333b1333333b13333333333333333333333b1333333331b3333331b3333b13333333333333333
1b333333333333b1333333b11b3333331b3333b11b3333331b3333b1333333b13333333333333333333333b1333333331b3333331b3333b13333333333333333
1b333333333333b1333333b11b3333331b3333b11b3333331b3333b1333333b13333333333333333333333b1333333331b3333331b3333b13333333333333333
1b333333333333b1bbbbbbb11bbbbbbb1b3333b11bbbbbbb1bbbbbb1bbbbbbb13333333333333333333333b1bbbbbbbb1b3333331bbbbbb1bb3333bb33333333
1b333333333333b111111111111111111b3333b11111111111111111111111113333333333333333333333b1111111111b333333111111111b3333b133333333
333333b1333333331b3333331b3333b1111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
333333bb33333333bb3333331b3333b1bbbbbbbb1111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
3333333333333333333333331b3333b1333333331111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
3333333333333333333333331b3333b1333333331111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
3333333333333333333333331b3333b1333333331111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
3333333333333333333333331b3333b1333333331111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
33333333bb333333333333331b3333b1bbbbbbbb1111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
333333331b333333333333331b3333b1111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
